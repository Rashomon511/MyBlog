<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>浏览器相关 | 二求</title>
    <meta name="description" content="求真、求知">
    <link rel="icon" href="/logo.jpeg">
    
    <link rel="preload" href="/assets/css/0.styles.815e519c.css" as="style"><link rel="preload" href="/assets/js/app.20d1c662.js" as="script"><link rel="preload" href="/assets/js/2.b4f839d5.js" as="script"><link rel="preload" href="/assets/js/184.06d242d5.js" as="script"><link rel="prefetch" href="/assets/js/10.4b2753e5.js"><link rel="prefetch" href="/assets/js/100.6ea2b2d8.js"><link rel="prefetch" href="/assets/js/101.00e2eacb.js"><link rel="prefetch" href="/assets/js/102.e13c214e.js"><link rel="prefetch" href="/assets/js/103.49cb7d56.js"><link rel="prefetch" href="/assets/js/104.b8008d28.js"><link rel="prefetch" href="/assets/js/105.2c405ca8.js"><link rel="prefetch" href="/assets/js/106.16c84672.js"><link rel="prefetch" href="/assets/js/107.b2add451.js"><link rel="prefetch" href="/assets/js/108.69ac9e18.js"><link rel="prefetch" href="/assets/js/109.a1732911.js"><link rel="prefetch" href="/assets/js/11.a2b16cf6.js"><link rel="prefetch" href="/assets/js/110.dc63d4ed.js"><link rel="prefetch" href="/assets/js/111.bc2dcfe0.js"><link rel="prefetch" href="/assets/js/112.94e62460.js"><link rel="prefetch" href="/assets/js/113.a50cc70e.js"><link rel="prefetch" href="/assets/js/114.b01cf432.js"><link rel="prefetch" href="/assets/js/115.3f92169e.js"><link rel="prefetch" href="/assets/js/116.126c49f6.js"><link rel="prefetch" href="/assets/js/117.0843796a.js"><link rel="prefetch" href="/assets/js/118.05d6260d.js"><link rel="prefetch" href="/assets/js/119.234d8d8d.js"><link rel="prefetch" href="/assets/js/12.23924584.js"><link rel="prefetch" href="/assets/js/120.53e9a10a.js"><link rel="prefetch" href="/assets/js/121.52a89779.js"><link rel="prefetch" href="/assets/js/122.894f0591.js"><link rel="prefetch" href="/assets/js/123.f77ec8f0.js"><link rel="prefetch" href="/assets/js/124.6170a51f.js"><link rel="prefetch" href="/assets/js/125.7696a287.js"><link rel="prefetch" href="/assets/js/126.963556bd.js"><link rel="prefetch" href="/assets/js/127.b4d691ba.js"><link rel="prefetch" href="/assets/js/128.36a80de9.js"><link rel="prefetch" href="/assets/js/129.454bde27.js"><link rel="prefetch" href="/assets/js/13.33f0b928.js"><link rel="prefetch" href="/assets/js/130.24a138ea.js"><link rel="prefetch" href="/assets/js/131.95f4480a.js"><link rel="prefetch" href="/assets/js/132.bd667c3f.js"><link rel="prefetch" href="/assets/js/133.eed300fd.js"><link rel="prefetch" href="/assets/js/134.60264d3c.js"><link rel="prefetch" href="/assets/js/135.5ea5838a.js"><link rel="prefetch" href="/assets/js/136.ff69842e.js"><link rel="prefetch" href="/assets/js/137.320f8dcf.js"><link rel="prefetch" href="/assets/js/138.1a30da61.js"><link rel="prefetch" href="/assets/js/139.0dbbacb0.js"><link rel="prefetch" href="/assets/js/14.a62efb88.js"><link rel="prefetch" href="/assets/js/140.b792f660.js"><link rel="prefetch" href="/assets/js/141.93bcadad.js"><link rel="prefetch" href="/assets/js/142.2505a9a7.js"><link rel="prefetch" href="/assets/js/143.748f76b7.js"><link rel="prefetch" href="/assets/js/144.3da50b8b.js"><link rel="prefetch" href="/assets/js/145.67d8155b.js"><link rel="prefetch" href="/assets/js/146.7e9df944.js"><link rel="prefetch" href="/assets/js/147.7daaf6b9.js"><link rel="prefetch" href="/assets/js/148.2b5b397b.js"><link rel="prefetch" href="/assets/js/149.7f398992.js"><link rel="prefetch" href="/assets/js/15.6ce785a0.js"><link rel="prefetch" href="/assets/js/150.8885ab95.js"><link rel="prefetch" href="/assets/js/151.ea9ca1a9.js"><link rel="prefetch" href="/assets/js/152.485d6c6c.js"><link rel="prefetch" href="/assets/js/153.eec718b7.js"><link rel="prefetch" href="/assets/js/154.70c20909.js"><link rel="prefetch" href="/assets/js/155.7edd7c7c.js"><link rel="prefetch" href="/assets/js/156.f2cc5f4b.js"><link rel="prefetch" href="/assets/js/157.5970fd48.js"><link rel="prefetch" href="/assets/js/158.3a4f7438.js"><link rel="prefetch" href="/assets/js/159.93f0b92b.js"><link rel="prefetch" href="/assets/js/16.e4f5874e.js"><link rel="prefetch" href="/assets/js/160.b9954e58.js"><link rel="prefetch" href="/assets/js/161.17cddcec.js"><link rel="prefetch" href="/assets/js/162.7b6de57b.js"><link rel="prefetch" href="/assets/js/163.fe8abeee.js"><link rel="prefetch" href="/assets/js/164.ed9634ec.js"><link rel="prefetch" href="/assets/js/165.12243b8d.js"><link rel="prefetch" href="/assets/js/166.d917647e.js"><link rel="prefetch" href="/assets/js/167.ffb2e689.js"><link rel="prefetch" href="/assets/js/168.a40332b7.js"><link rel="prefetch" href="/assets/js/169.66f38c1f.js"><link rel="prefetch" href="/assets/js/17.6ba5fdb5.js"><link rel="prefetch" href="/assets/js/170.16a5bb9d.js"><link rel="prefetch" href="/assets/js/171.6e67fc96.js"><link rel="prefetch" href="/assets/js/172.5c219ca5.js"><link rel="prefetch" href="/assets/js/173.3c2c09de.js"><link rel="prefetch" href="/assets/js/174.37ce9495.js"><link rel="prefetch" href="/assets/js/175.609286aa.js"><link rel="prefetch" href="/assets/js/176.c00ba532.js"><link rel="prefetch" href="/assets/js/177.a0b40180.js"><link rel="prefetch" href="/assets/js/178.6f419210.js"><link rel="prefetch" href="/assets/js/179.27160538.js"><link rel="prefetch" href="/assets/js/18.cfb9b423.js"><link rel="prefetch" href="/assets/js/180.f6123932.js"><link rel="prefetch" href="/assets/js/181.75f6df0e.js"><link rel="prefetch" href="/assets/js/182.7223a29a.js"><link rel="prefetch" href="/assets/js/183.4f1ddc09.js"><link rel="prefetch" href="/assets/js/185.cf28a5f7.js"><link rel="prefetch" href="/assets/js/186.9e3fd258.js"><link rel="prefetch" href="/assets/js/187.32c183a2.js"><link rel="prefetch" href="/assets/js/188.2ae96b7a.js"><link rel="prefetch" href="/assets/js/189.54986241.js"><link rel="prefetch" href="/assets/js/19.edba6687.js"><link rel="prefetch" href="/assets/js/190.83b8206e.js"><link rel="prefetch" href="/assets/js/191.4b65c41b.js"><link rel="prefetch" href="/assets/js/192.5e75e003.js"><link rel="prefetch" href="/assets/js/193.ac72038d.js"><link rel="prefetch" href="/assets/js/194.b1ca1dc7.js"><link rel="prefetch" href="/assets/js/195.e7f22a19.js"><link rel="prefetch" href="/assets/js/196.292b3b97.js"><link rel="prefetch" href="/assets/js/197.9e1ea61c.js"><link rel="prefetch" href="/assets/js/198.801f7baf.js"><link rel="prefetch" href="/assets/js/199.2a0d6aaf.js"><link rel="prefetch" href="/assets/js/20.bfb012f9.js"><link rel="prefetch" href="/assets/js/200.ff819d2c.js"><link rel="prefetch" href="/assets/js/201.de0f6812.js"><link rel="prefetch" href="/assets/js/202.14ad6027.js"><link rel="prefetch" href="/assets/js/203.6857eaaf.js"><link rel="prefetch" href="/assets/js/204.3fe93b37.js"><link rel="prefetch" href="/assets/js/205.841fd0c9.js"><link rel="prefetch" href="/assets/js/206.6d659de1.js"><link rel="prefetch" href="/assets/js/207.c7c7edcd.js"><link rel="prefetch" href="/assets/js/208.fccd3973.js"><link rel="prefetch" href="/assets/js/209.c80d2e49.js"><link rel="prefetch" href="/assets/js/21.28b6a89b.js"><link rel="prefetch" href="/assets/js/210.1f1ba071.js"><link rel="prefetch" href="/assets/js/211.5a4b3c63.js"><link rel="prefetch" href="/assets/js/212.dc41ada3.js"><link rel="prefetch" href="/assets/js/213.49bce47c.js"><link rel="prefetch" href="/assets/js/214.2c370a41.js"><link rel="prefetch" href="/assets/js/215.1acaa667.js"><link rel="prefetch" href="/assets/js/216.ab042c62.js"><link rel="prefetch" href="/assets/js/22.e7d108d7.js"><link rel="prefetch" href="/assets/js/23.05563d47.js"><link rel="prefetch" href="/assets/js/24.7d424a59.js"><link rel="prefetch" href="/assets/js/25.fe3e6042.js"><link rel="prefetch" href="/assets/js/26.ecabc390.js"><link rel="prefetch" href="/assets/js/27.8021120a.js"><link rel="prefetch" href="/assets/js/28.fad4a91c.js"><link rel="prefetch" href="/assets/js/29.a1461cde.js"><link rel="prefetch" href="/assets/js/3.2df19221.js"><link rel="prefetch" href="/assets/js/30.970f53ff.js"><link rel="prefetch" href="/assets/js/31.fcf6cdf0.js"><link rel="prefetch" href="/assets/js/32.ad5ae882.js"><link rel="prefetch" href="/assets/js/33.dee4c928.js"><link rel="prefetch" href="/assets/js/34.73f33019.js"><link rel="prefetch" href="/assets/js/35.f10ee14e.js"><link rel="prefetch" href="/assets/js/36.c7628b0f.js"><link rel="prefetch" href="/assets/js/37.00923b69.js"><link rel="prefetch" href="/assets/js/38.d07fdae4.js"><link rel="prefetch" href="/assets/js/39.0ca52625.js"><link rel="prefetch" href="/assets/js/4.b6bebc07.js"><link rel="prefetch" href="/assets/js/40.772fb06a.js"><link rel="prefetch" href="/assets/js/41.45638d70.js"><link rel="prefetch" href="/assets/js/42.ffd85a55.js"><link rel="prefetch" href="/assets/js/43.42ea67a0.js"><link rel="prefetch" href="/assets/js/44.889f31eb.js"><link rel="prefetch" href="/assets/js/45.b444a8db.js"><link rel="prefetch" href="/assets/js/46.7e569fd7.js"><link rel="prefetch" href="/assets/js/47.ebac65f7.js"><link rel="prefetch" href="/assets/js/48.b84f27e7.js"><link rel="prefetch" href="/assets/js/49.5aa3f020.js"><link rel="prefetch" href="/assets/js/5.35065344.js"><link rel="prefetch" href="/assets/js/50.195d283a.js"><link rel="prefetch" href="/assets/js/51.d1eac07d.js"><link rel="prefetch" href="/assets/js/52.473c9c38.js"><link rel="prefetch" href="/assets/js/53.e4ae8236.js"><link rel="prefetch" href="/assets/js/54.f7e5a365.js"><link rel="prefetch" href="/assets/js/55.9189ebe5.js"><link rel="prefetch" href="/assets/js/56.212e1e0e.js"><link rel="prefetch" href="/assets/js/57.b7f502fd.js"><link rel="prefetch" href="/assets/js/58.39b98db3.js"><link rel="prefetch" href="/assets/js/59.82926a97.js"><link rel="prefetch" href="/assets/js/6.bd3f0f03.js"><link rel="prefetch" href="/assets/js/60.de7da7a6.js"><link rel="prefetch" href="/assets/js/61.0c39d949.js"><link rel="prefetch" href="/assets/js/62.6c01915c.js"><link rel="prefetch" href="/assets/js/63.915e4daf.js"><link rel="prefetch" href="/assets/js/64.c9b1ce31.js"><link rel="prefetch" href="/assets/js/65.e1c12df5.js"><link rel="prefetch" href="/assets/js/66.dca36839.js"><link rel="prefetch" href="/assets/js/67.525516a0.js"><link rel="prefetch" href="/assets/js/68.a1889e60.js"><link rel="prefetch" href="/assets/js/69.f899de9c.js"><link rel="prefetch" href="/assets/js/7.695ed75f.js"><link rel="prefetch" href="/assets/js/70.8fa50ea8.js"><link rel="prefetch" href="/assets/js/71.301c2686.js"><link rel="prefetch" href="/assets/js/72.e622d49b.js"><link rel="prefetch" href="/assets/js/73.e2b8a185.js"><link rel="prefetch" href="/assets/js/74.70c3e0c9.js"><link rel="prefetch" href="/assets/js/75.046236db.js"><link rel="prefetch" href="/assets/js/76.6f7e5956.js"><link rel="prefetch" href="/assets/js/77.f53aae34.js"><link rel="prefetch" href="/assets/js/78.124dca95.js"><link rel="prefetch" href="/assets/js/79.315c2ccb.js"><link rel="prefetch" href="/assets/js/8.bb75838a.js"><link rel="prefetch" href="/assets/js/80.6e4e5bd0.js"><link rel="prefetch" href="/assets/js/81.18926d88.js"><link rel="prefetch" href="/assets/js/82.102e702d.js"><link rel="prefetch" href="/assets/js/83.e210c358.js"><link rel="prefetch" href="/assets/js/84.7357d4dd.js"><link rel="prefetch" href="/assets/js/85.a1397cdc.js"><link rel="prefetch" href="/assets/js/86.7ae61907.js"><link rel="prefetch" href="/assets/js/87.1e4f1874.js"><link rel="prefetch" href="/assets/js/88.510f0be4.js"><link rel="prefetch" href="/assets/js/89.23a2c147.js"><link rel="prefetch" href="/assets/js/9.06b021a0.js"><link rel="prefetch" href="/assets/js/90.9d98332b.js"><link rel="prefetch" href="/assets/js/91.fc447e65.js"><link rel="prefetch" href="/assets/js/92.7d622748.js"><link rel="prefetch" href="/assets/js/93.f929d332.js"><link rel="prefetch" href="/assets/js/94.87a89da0.js"><link rel="prefetch" href="/assets/js/95.6f5e7aaf.js"><link rel="prefetch" href="/assets/js/96.37159420.js"><link rel="prefetch" href="/assets/js/97.ca9bf771.js"><link rel="prefetch" href="/assets/js/98.5e5c3610.js"><link rel="prefetch" href="/assets/js/99.6781be8d.js">
    <link rel="stylesheet" href="/assets/css/0.styles.815e519c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">二求</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">主页</a></div><div class="nav-item"><a href="/article/" class="nav-link">博客文章</a></div><div class="nav-item"><a href="/algorithm/" class="nav-link">前端算法</a></div><div class="nav-item"><a href="/sourceCode/" class="nav-link">源码释界</a></div><div class="nav-item"><a href="/learnRecord/" class="nav-link">学习笔记</a></div><div class="nav-item"><a href="/interviewQuestions/" class="nav-link router-link-active">前端知识体系</a></div><div class="nav-item"><a href="/weekRead/" class="nav-link">每周阅读</a></div><div class="nav-item"><a href="https://github.com/Rashomon511" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">主页</a></div><div class="nav-item"><a href="/article/" class="nav-link">博客文章</a></div><div class="nav-item"><a href="/algorithm/" class="nav-link">前端算法</a></div><div class="nav-item"><a href="/sourceCode/" class="nav-link">源码释界</a></div><div class="nav-item"><a href="/learnRecord/" class="nav-link">学习笔记</a></div><div class="nav-item"><a href="/interviewQuestions/" class="nav-link router-link-active">前端知识体系</a></div><div class="nav-item"><a href="/weekRead/" class="nav-link">每周阅读</a></div><div class="nav-item"><a href="https://github.com/Rashomon511" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/interviewQuestions/Javascript.html" class="sidebar-link">JavaScript</a></li><li><a href="/interviewQuestions/Javascript手写.html" class="sidebar-link">JavaScript手写</a></li><li><a href="/interviewQuestions/Css.html" class="sidebar-link">CSS</a></li><li><a href="/interviewQuestions/Html.html" class="sidebar-link">HTML</a></li><li><a href="/interviewQuestions/浏览器相关.html" class="active sidebar-link">浏览器相关</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/interviewQuestions/浏览器相关.html#浏览器相关" class="sidebar-link">浏览器相关</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/interviewQuestions/浏览器相关.html#浏览器组成" class="sidebar-link">浏览器组成</a></li><li class="sidebar-sub-header"><a href="/interviewQuestions/浏览器相关.html#浏览器内核" class="sidebar-link">浏览器内核</a></li><li class="sidebar-sub-header"><a href="/interviewQuestions/浏览器相关.html#浏览器页面加载流程" class="sidebar-link">浏览器页面加载流程</a></li><li class="sidebar-sub-header"><a href="/interviewQuestions/浏览器相关.html#浏览器渲染机制" class="sidebar-link">浏览器渲染机制</a></li><li class="sidebar-sub-header"><a href="/interviewQuestions/浏览器相关.html#性能优化策略" class="sidebar-link">性能优化策略</a></li><li class="sidebar-sub-header"><a href="/interviewQuestions/浏览器相关.html#_1-回流-reflow-与重绘-repaint" class="sidebar-link">1.回流(reflow)与重绘(repaint)</a></li><li class="sidebar-sub-header"><a href="/interviewQuestions/浏览器相关.html#async和defer的作用是什么？有什么区别" class="sidebar-link">async和defer的作用是什么？有什么区别?</a></li><li class="sidebar-sub-header"><a href="/interviewQuestions/浏览器相关.html#首屏优化加载" class="sidebar-link">首屏优化加载</a></li><li class="sidebar-sub-header"><a href="/interviewQuestions/浏览器相关.html#浏览器的缓存机制" class="sidebar-link">浏览器的缓存机制</a></li><li class="sidebar-sub-header"><a href="/interviewQuestions/浏览器相关.html#etag如何生成" class="sidebar-link">ETag如何生成</a></li><li class="sidebar-sub-header"><a href="/interviewQuestions/浏览器相关.html#浏览器缓存" class="sidebar-link">浏览器缓存</a></li><li class="sidebar-sub-header"><a href="/interviewQuestions/浏览器相关.html#web-worker" class="sidebar-link">web worker</a></li><li class="sidebar-sub-header"><a href="/interviewQuestions/浏览器相关.html#同源策略" class="sidebar-link">同源策略</a></li><li class="sidebar-sub-header"><a href="/interviewQuestions/浏览器相关.html#浏览器和-node-事件循环的区别" class="sidebar-link">浏览器和 Node 事件循环的区别</a></li><li class="sidebar-sub-header"><a href="/interviewQuestions/浏览器相关.html#重绘和回流（repaint-reflow）" class="sidebar-link">重绘和回流（Repaint &amp; Reflow）</a></li><li class="sidebar-sub-header"><a href="/interviewQuestions/浏览器相关.html#web标准、可用性、可访问性" class="sidebar-link">web标准、可用性、可访问性</a></li><li class="sidebar-sub-header"><a href="/interviewQuestions/浏览器相关.html#cookies，sessionstorage-和-localstorage" class="sidebar-link">cookies，sessionStorage 和 localStorage</a></li><li class="sidebar-sub-header"><a href="/interviewQuestions/浏览器相关.html#v8垃圾回收机制" class="sidebar-link">V8垃圾回收机制</a></li><li class="sidebar-sub-header"><a href="/interviewQuestions/浏览器相关.html#渐进增强和优雅降级" class="sidebar-link">渐进增强和优雅降级</a></li><li class="sidebar-sub-header"><a href="/interviewQuestions/浏览器相关.html#判断浏览器类型" class="sidebar-link">判断浏览器类型</a></li><li class="sidebar-sub-header"><a href="/interviewQuestions/浏览器相关.html#获取url中参数值" class="sidebar-link">获取URL中参数值</a></li><li class="sidebar-sub-header"><a href="/interviewQuestions/浏览器相关.html#三种减少页面加载时间的方法" class="sidebar-link">三种减少页面加载时间的方法</a></li><li class="sidebar-sub-header"><a href="/interviewQuestions/浏览器相关.html#ci-cd流程" class="sidebar-link">CI/CD流程</a></li><li class="sidebar-sub-header"><a href="/interviewQuestions/浏览器相关.html#首屏时间、白屏时间" class="sidebar-link">首屏时间、白屏时间</a></li><li class="sidebar-sub-header"><a href="/interviewQuestions/浏览器相关.html#域名收敛" class="sidebar-link">域名收敛</a></li></ul></li></ul></li><li><a href="/interviewQuestions/计算机网络.html" class="sidebar-link">计算机网络</a></li><li><a href="/interviewQuestions/前端框架.html" class="sidebar-link">前端框架</a></li><li><a href="/interviewQuestions/前端工程.html" class="sidebar-link">前端工程</a></li><li><a href="/interviewQuestions/安全与性能.html" class="sidebar-link">安全与性能</a></li><li><a href="/interviewQuestions/Node.html" class="sidebar-link">Node</a></li><li><a href="/interviewQuestions/版本控制.html" class="sidebar-link">版本控制</a></li><li><a href="/interviewQuestions/测试相关.html" class="sidebar-link">测试相关</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="浏览器相关"><a href="#浏览器相关" aria-hidden="true" class="header-anchor">#</a> 浏览器相关</h2> <p><a name="9e04d54e"></a></p> <h3 id="浏览器组成"><a href="#浏览器组成" aria-hidden="true" class="header-anchor">#</a> 浏览器组成</h3> <p>浏览器主要由7个部分组成：</p> <ul><li>用户界面（User Interface）：定义了一些常用的浏览器组件，比如地址栏，返回、书签等等</li> <li>数据持久化（Data Persistence）：指浏览器的cookie、local storage等组件</li> <li>浏览器引擎（Browser engine）：平台应用的相关接口，在用户界面和呈现引擎之间传送指令。</li> <li>渲染引擎（Rendering engine）：处理HTML、CSS的解析与渲染</li> <li>JavaScript解释器（JavaScript Interpreter）：解析和执行JavaScript代码</li> <li>用户界面后端（UI Backend）：指浏览器的的图形库等</li> <li>网络（Networking）：用于网络调用，比如HTTP请求</li></ul> <p><a name="ada114bb"></a></p> <h3 id="浏览器内核"><a href="#浏览器内核" aria-hidden="true" class="header-anchor">#</a> 浏览器内核</h3> <p>浏览器内核分为两部分：渲染引擎(layout engineer或Rendering Engine)和JS引擎</p> <ul><li>渲染引擎：负责取得网页的内容（HTML、XML、图像等等）、整理讯息（例如加入CSS等），以及计算网页的显示方式，然后会输出至显示器或打印机</li> <li>JS引擎：负责解析和执行javascript来实现网页的动态效果<br>
浏览器的内核的不同对于网页的语法解释会有不同，所以渲染的效果也不相同。所有网页浏览器、电子邮件客户端以及其它需要编辑、显示网络内容的应用程序都需要内核，最开始渲染引擎和JS引擎并没有区分的很明确，后来JS引擎越来越独立，内核就倾向于只指渲染引擎</li></ul> <p><strong>浏览器内核</strong></p> <ul><li>Trident内核：IE,MaxThon,TT,The Word,360,搜狗浏览器等。[又称为MSHTML]</li> <li>Gecko内核：Netscape6及以上版本，FF,MozillaSuite/SeaMonkey等；</li> <li>Presto内核：Opera7及以上。[Opera内核原为：Presto，现为：Blink]</li> <li>Webkit内核：Safari,Chrome等。[Chrome的:Blink(Webkit的分支)]</li> <li>对于Android手机而言，使用率最高的就是Webkit内核。</li></ul> <blockquote><p>常见的浏览器内核：Trident（IE）、Gecko（火狐）、Blink（Chrome、Opera）、Webkit（Safari）</p></blockquote> <p><a name="a59e7517"></a></p> <h3 id="浏览器页面加载流程"><a href="#浏览器页面加载流程" aria-hidden="true" class="header-anchor">#</a> 浏览器页面加载流程</h3> <p>在了解浏览器渲染过程之前，先来了解一下页面的加载流程。有助于更好理解后续渲染过程。从浏览器地址中从输入url地址到渲染出一个页面，会经过以下过程。<br>1.浏览器输入的url地址经过DNS解析获得对应的IP<br>2.向服务器发起TCP的3次握手<br>3.建立链接后，浏览器向该IP地址发送http请求<br>4.服务器接收到请求，返回一堆 HMTL 格式的字符串代码<br>5.浏览器获得html代码，解析成DOM树<br>6.获取CSS并构建CSSOM<br>7.将DOM与CSSOM结合，创建渲染树<br>8.找到所有内容都处于网页的哪个位置，布局渲染树<br>9.最终绘制出页面</p> <p><a name="0fad684d"></a></p> <h3 id="浏览器渲染机制"><a href="#浏览器渲染机制" aria-hidden="true" class="header-anchor">#</a> 浏览器渲染机制</h3> <p>我们将要介绍的浏览器渲染过程主要步骤是5-9步，可以用下面的图来形象的展示<br><img src="https://cdn.nlark.com/yuque/0/2019/png/218767/1566958516978-9d466ba5-8c82-443d-b493-ff3f100cc9c3.png#align=left&amp;display=inline&amp;height=862&amp;originHeight=862&amp;originWidth=1036&amp;size=0&amp;status=done&amp;width=1036" alt=""></p> <p><strong>解析HTML成DOM树</strong></p> <p>这个解析过程大概可以分为几个步骤：<br><img src="https://cdn.nlark.com/yuque/0/2019/png/218767/1566958515556-71f14fd2-0191-4b98-8a16-8826c398cd37.png#align=left&amp;display=inline&amp;height=332&amp;originHeight=332&amp;originWidth=1660&amp;size=0&amp;status=done&amp;width=1660" alt=""><br>第一步：浏览器从磁盘或网络读取HTML的原始字节，也就是传输的0和1这样的字节数据，并根据文件的指定编码（例如 UTF-8）将它们转换成字符串。<br>第二步：将字符串转换成Token,例如：“”、“”等。Token中会标识出当前Token是“开始标签”或是“结束标签”亦或是“文本”等信息<br>第三步：在每个Token被生成后，会立刻消耗这个Token创建出节点对象，因此在构建DOM的过程中，不是等待所有的Token都生成后才去构建DOM,而是一边生成Token一边消耗来生成节点对象。</p> <blockquote><p>注意：带有结束标签标识的Token不会创建节点对象
第四步：通过“开始标签”与“结束标签”来识别并关联节点之间的关系。当所有Token都生成并消耗完毕后，我们就得到了一颗完整的DOM树。</p></blockquote> <p>但是现在有一个疑问，节点之间的关联关系是如何维护的呢？<br>上面我们提到Token会标识是“开始标签”还是“结束标签”，以下图为例：“Hello”Token位于“title”开始标签与“title”结束标签之间，表明“Hello”Token是“title”Token的子节点。同理“title”Token是“head”Token的子节点。<br><img src="https://cdn.nlark.com/yuque/0/2019/png/218767/1566958516254-2ebad93e-fa5e-462b-8b76-c73a8a063426.png#align=left&amp;display=inline&amp;height=282&amp;originHeight=282&amp;originWidth=1080&amp;size=0&amp;status=done&amp;width=1080" alt=""></p> <p><strong>构建CSSOM</strong></p> <p>既然有了html解析，那css解析也是必不可少的，解析css构建CSSOM 的过程和构建DOM的过程非常的相似。当浏览器接收到一段CSS，浏览器首先要做的是识别出Token，然后构建节点并生成CSSOM<br><img src="https://cdn.nlark.com/yuque/0/2019/png/218767/1566958515440-f631dacc-aa18-44f0-b319-d04bd0529e4a.png#align=left&amp;display=inline&amp;height=288&amp;originHeight=288&amp;originWidth=1654&amp;size=0&amp;status=done&amp;width=1654" alt=""><br>节点中样式可以通过继承得到，也可以自己设置，因此在构建的过程中浏览器得递归 CSSOM 树，然后确定具体的元素到底是什么样式。为了CSSOM的完整性，也只有等构建完毕才能进入到下一个阶段，哪怕DOM已经构建完，它也得等CSSOM，然后才能进入下一个阶段。</p> <blockquote><p>CSS匹配HTML元素是一个相当复杂和有性能问题的事情。所以，DOM树要小，CSS尽量用id和class，千万不要过渡层叠下去
所以，CSS的加载速度与构建CSSOM的速度将直接影响首屏渲染速度，因此在默认情况下CSS被视为阻塞渲染的资源</p></blockquote> <p><strong>构建渲染树</strong></p> <p>当我们生成DOM树和CSSOM树后，我们需要将这两颗树合并成渲染树，在构建渲染树的过程中浏览器需要做如下工作：</p> <ul><li>从 DOM 树的根节点开始遍历每个可见节点。</li> <li>有些节点不可见（例如脚本Token、元Token等），因为它们不会体现在渲染输出中，所以会被忽略。</li> <li>某些节点被CSS隐藏，因此在渲染树中也会被忽略。例如某些节点设置了display: none属性。</li> <li>对于每个可见节点，为其找到适配的 CSSOM 规则并应用它们</li></ul> <p><img src="https://cdn.nlark.com/yuque/0/2019/png/218767/1566958515039-a86fa1d6-b1a5-4ae2-814b-abf0604697fe.png#align=left&amp;display=inline&amp;height=686&amp;originHeight=686&amp;originWidth=1080&amp;size=0&amp;status=done&amp;width=1080" alt=""></p> <p><strong>渲染阻塞</strong></p> <p>在渲染的过程中，遇到一个script标记时，就会停止渲染，去请求脚本文件并执行脚本文件，因为浏览器渲染和 JS 执行共用一个线程，而且这里必须是单线程操作，多线程会产生渲染 DOM 冲突。JavaScript的加载、解析与执行会严重阻塞DOM的构建。只有等到脚本文件执行完毕，才会去继续构建DOM。</p> <p>js不单会阻塞DOM构建，还会导致CSSOM也阻塞DOM的构建，如果JavaScript脚本还操作了CSSOM，而正好这个CSSOM还没有下载和构建，浏览器甚至会延迟脚本执行和构建DOM，直至完成其CSSOM的下载和构建，然后再执行JavaScript，最后在继续构建DOM</p> <p>因此script的位置很重要，在实际使用过程中遵循以下两个原则：</p> <ul><li>CSS 优先：引入顺序上，CSS 资源先于 JavaScript 资源。</li> <li>JS置后：我们通常把JS代码放到页面底部，且JavaScript 应尽量少影响 DOM 的构建</li></ul> <p><strong>布局与绘制</strong></p> <p>浏览器拿到渲染树后，就会从渲染树的根节点开始遍历，然后确定每个节点对象在页面上的确切大小与位置，通常这一行为也被称为“自动重排”。布局阶段的输出是一个盒子模型，它会精确地捕获每个元素在屏幕内的确切位置与大小，所有相对测量值都将转换为屏幕上的绝对像素。这一过程也可称为回流</p> <p>布局完成后，浏览器会立即发出“Paint Setup”和“Paint”事件，将渲染树转换成屏幕上的像素。</p> <p><a name="ae516697"></a></p> <h3 id="性能优化策略"><a href="#性能优化策略" aria-hidden="true" class="header-anchor">#</a> 性能优化策略</h3> <p>在我们了解浏览器的渲染机制后，DOM 和 CSSOM 结构构建顺序，我们可以针对性能优化问题给出一些方案，提升页面性能。</p> <p><a name="35A5z"></a></p> <h3 id="_1-回流-reflow-与重绘-repaint"><a href="#_1-回流-reflow-与重绘-repaint" aria-hidden="true" class="header-anchor">#</a> 1.回流(reflow)与重绘(repaint)</h3> <p>当元素的样式发生变化时，浏览器需要触发更新，重新绘制元素。这个过程中，有两种类型的操作，即重绘与回流。</p> <ul><li>重绘(repaint): 当元素样式的改变不影响布局时，浏览器将使用重绘对元素进行更新，此时由于只需要UI层面的重新像素绘制，因此损耗较少</li> <li>回流(reflow): 当元素的尺寸、结构或触发某些属性时，浏览器会重新渲染页面，称为回流。此时，浏览器需要重新经过计算，计算后还需要重新页面布局，因此是较重的操作。会触发回流的操作:</li> <li>添加或删除可见的DOM元素</li> <li>元素的位置发生变化</li> <li>元素的尺寸发生变化（包括外边距、内边框、边框大小、高度和宽度等）</li> <li>内容发生变化，比如文本变化或图片被另一个不同尺寸的图片所替代。</li> <li>页面一开始渲染的时候（这肯定避免不了）</li> <li>浏览器的窗口尺寸变化（因为回流是根据视口的大小来计算元素的位置和大小的</li></ul> <blockquote><p>注意：回流一定会触发重绘，而重绘不一定会回流,重绘的开销较小，回流的代价较高</p></blockquote> <p>因此为了减少性能优化，我们可以尽量避免回流或者重绘操作<br>css</p> <ul><li>避免使用table布局</li> <li>将动画效果应用到position属性为absolute或fixed的元素上</li></ul> <p>javascript</p> <ul><li>避免频繁操作样式，可汇总后统一 一次修改</li> <li>尽量使用class进行样式修改</li> <li>减少dom的增删次数，可使用 字符串 或者 documentFragment 一次性插入</li> <li>极限优化时，修改样式可将其display: none后修改</li> <li>避免多次触发上面提到的那些会触发回流的方法，可以的话尽量用 变量存住</li></ul> <p><a name="xmffR"></a></p> <h3 id="async和defer的作用是什么？有什么区别"><a href="#async和defer的作用是什么？有什么区别" aria-hidden="true" class="header-anchor">#</a> async和defer的作用是什么？有什么区别?</h3> <p>defer 和 async 属性的区别：<br><img src="https://cdn.nlark.com/yuque/0/2019/png/218767/1566958519491-44a2a079-86f7-47b0-8201-8bc61a1ff07c.png#align=left&amp;display=inline&amp;height=112&amp;originHeight=112&amp;originWidth=689&amp;size=0&amp;status=done&amp;width=689" alt=""><br>其中蓝色线代表JavaScript加载；红色线代表JavaScript执行；绿色线代表 HTML 解析<br>1）情况1 &lt;scriptsrc=&quot;script.js&quot;&gt;<br>没有 defer 或 async，浏览器会立即加载并执行指定的脚本，也就是说不等待后续载入的文档元素，读到就加载并执行。</p> <p>2）情况2  (异步下载)<br>async 属性表示异步执行引入的 JavaScript，与 defer 的区别在于，如果已经加载好，就会开始执行——无论此刻是 HTML 解析阶段还是 DOMContentLoaded 触发之后。需要注意的是，这种方式加载的 JavaScript 依然会阻塞 load 事件。换句话说，async-script 可能在 DOMContentLoaded 触发之前或之后执行，但一定在 load 触发之前执行。</p> <p>3）情况3 &lt;scriptdefersrc=&quot;script.js&quot;&gt;(延迟执行)<br>defer 属性表示延迟执行引入的 JavaScript，即这段 JavaScript 加载时 HTML 并未停止解析，这两个过程是并行的。整个 document 解析完毕且 defer-script 也加载完成之后（这两件事情的顺序无关），会执行所有由 defer-script 加载的 JavaScript 代码，然后触发 DOMContentLoaded 事件。</p> <p>defer 与相比普通 script，有两点区别：</p> <ul><li>载入 JavaScript 文件时不阻塞 HTML 的解析，执行阶段被放到 HTML 标签解析完成之后；</li> <li>在加载多个JS脚本的时候，async是无顺序的加载，而defer是有顺序的加载</li></ul> <p>js优化可以在script 标签加上 defer属性 和 async属性用于在不阻塞页面文档解析的前提下，控制脚本的下载和执行</p> <blockquote><p>其他: CSS 标签的 rel属性 中的属性值设置为 preload 能够让你在你的HTML页面中可以指明哪些资源是在页面加载完成后即刻需要的,最优的配置加载顺序，提高渲染性能</p></blockquote> <p><a name="PxEN6"></a></p> <h3 id="首屏优化加载"><a href="#首屏优化加载" aria-hidden="true" class="header-anchor">#</a> 首屏优化加载</h3> <ul><li>减少首屏CGI的计算量：比如在微信8.8无现金日H5开发中，前端希望拿到用户的个人信息、消费记录、排名三类数据，如果只通过一个CGI来处理，那么后台响应时间肯定会变长；由于在H5的首屏中，只包含了用户信息，消费记录、排名都在第2屏和第3屏，此时其实可以利用异步的方式来拿消费记录、排名的数据。</li> <li>页面瘦身：压缩HTML、CSS、JavaScript。</li> <li>减少请求：CSS、JavaScript文件数尽量少，甚至当CSS、JS的代码不多时，可以考虑直接将代码内嵌到页面中。</li> <li>多用缓存：缓存能大幅度降低页面非首次加载的时间。</li> <li>少用table布局，浏览器在渲染table时会消耗较多资源，而且只有table里有一点变化，整个table都会重新渲染。</li> <li>做预加载：部分H5页面首屏可能要下载较多的静态资源，比如图片，这时为了避免加载时出现“难看”的页面，用预加载（loading的方式）做一个过渡</li></ul> <p><strong>总结</strong><br>我们已经将浏览器的渲染机制了解了一遍，不仅了解到一些性能优化方案，也可以得出结论：<br>浏览器渲染的关键路径共分五个步骤：</p> <blockquote><p>构建DOM -&gt; 构建CSSOM -&gt; 构建渲染树 -&gt; 布局 -&gt; 绘制</p></blockquote> <p><a name="5jBBo"></a></p> <h3 id="浏览器的缓存机制"><a href="#浏览器的缓存机制" aria-hidden="true" class="header-anchor">#</a> 浏览器的缓存机制</h3> <p>浏览器缓存机制有两种，一种为强缓存，一种为协商缓存。<br>对于强缓存，浏览器在第一次请求的时候，会直接下载资源，然后缓存在本地，第二次请求的时候，直接使用缓存。<br>对于协商缓存，第一次请求缓存且保存缓存标识与时间，重复请求向服务器发送缓存标识和最后缓存时间，服务端进行校验，如果失效则使用缓存。<br>强缓存方案<br>Exprires：服务端的响应头，第一次请求的时候，告诉客户端，该资源什么时候会过期。Exprires的缺陷是必须保证服务端时间和客户端时间严格同步。<br>Cache-control：max-age，表示该资源多少时间后过期，解决了客户端和服务端时间必须同步的问题，<br>协商缓存方案<br>If-None-Match/ETag：缓存标识，对比缓存时使用它来标识一个缓存，第一次请求的时候，服务端会返回该标识给客户端，客户端在第二次请求的时候会带上该标识与服务端进行对比并返回If-None-Match标识是否表示匹配。<br>Last-modified/If-Modified-Since：第一次请求的时候服务端返回Last-modified表明请求的资源上次的修改时间，第二次请求的时候客户端带上请求头If-Modified-Since，表示资源上次的修改时间，服务端拿到这两个字段进行对比</p> <p><a name="cJEAi"></a></p> <h3 id="etag如何生成"><a href="#etag如何生成" aria-hidden="true" class="header-anchor">#</a> ETag如何生成</h3> <p><br>在REST架构下，ETag值可以通过Guid、整数、长整形、字符串四种类型的参数传入SetETag方法，<br>WCF服务发回给客户端的HTTP响应头中就包含了ETag值。另外OutgoingResponse类也有字符串属性：ETag直接给它赋值也能在HTTP响应头中写入ETag值<br>计算ETag值时，需要考虑两个问题：计算与存储。如果一个ETag值只需要很小的代价以及占用很低的存储空间，那么我们可以在每次需要发送给客户端ETag值值的时候计算一遍就行行了。相反的，我们需要将之前就已经计算并存储好的ETag值发送给客户端。之前说：将时间戳作为字符串作为一种廉价的方式来获取ETag值。对于不是经常变化的消息，它是一种足够好的方案。注意：如果将时间戳做为ETag值，通常不应该用Last-Modified的值。由于HTTP机制中，所以当我们在通过服务校验资源状态时，客户端不需要进行相应的改动。计算ETag值开销最大的一般是计算采用哈希算法<br>获取资源的表述值。可以只计算资源的哈希值，也可以将头信息和头信息的值也包含进去。如果包含头信息，那么注意不要包含计算机标识的头信息。同样也应该避免包含Expires、Cache-Control和Vary头信息。注意：在通过哈希算法计算ETag值时，先要组装资源的表述。若组装也比较耗时，可以采用生成GUID的方式。优化ETag值的获取<br>ETag有两种类型：强ETag(strong ETag)与弱ETag(weak ETag)。</p> <ul><li>强ETag表示形式：&quot;22FAA065-2664-4197-9C5E-C92EA03D0A16&quot;。</li> <li>弱ETag表现形式：w/&quot;22FAA065-2664-4197-9C5E-C92EA03D0A16&quot;。<br>强、弱ETag类型的出现与Apache服务器计算ETag的方式有关。Apache默认通过FileEtag中FileEtag INode Mtime Size的配置自动生成ETag(当然也可以通过用户自定义的方式)。假设服务端的资源频繁被修改(如1秒内修改了N次)，此时如果有用户将Apache的配置改为MTime，由于MTime只能精确到秒，那么就可以避免强ETag在1秒内的ETag总是不同而频繁刷新Cache(如果资源在秒级经常被修改，也可以通过Last-Modified来解决)</li></ul> <p><a name="rV8gr"></a></p> <h3 id="浏览器缓存"><a href="#浏览器缓存" aria-hidden="true" class="header-anchor">#</a> 浏览器缓存</h3> <ul><li>缓存位置上来说分为四种，并且各自有优先级，当依次查找缓存且都没有命中的时候，才会去请求网络。</li></ul> <blockquote><ul><li>Service Worker</li> <li>Memory Cache</li> <li>Disk Cache</li> <li>Push Cache</li></ul></blockquote> <p>1.Service Worker<br>Service Worker 是运行在浏览器背后的独立线程，一般可以用来实现缓存功能。使用 Service Worker的话，传输协议必须为 HTTPS。因为 Service Worker 中涉及到请求拦截，所以必须使用 HTTPS 协议来保障安全。Service Worker 的缓存与浏览器其他内建的缓存机制不同，它可以让我们自由控制缓存哪些文件、如何匹配缓存、如何读取缓存，并且缓存是持续性的。<br>Service Worker 实现缓存功能一般分为三个步骤：首先需要先注册 Service Worker，然后监听到 install 事件以后就可以缓存需要的文件，那么在下次用户访问的时候就可以通过拦截请求的方式查询是否存在缓存，存在缓存的话就可以直接读取缓存文件，否则就去请求数据.<br>当 Service Worker 没有命中缓存的时候，我们需要去调用 fetch 函数获取数据。也就是说，如果我们没有在 Service Worker 命中缓存的话，会根据缓存查找优先级去查找数据。但是不管我们是从 Memory Cache 中还是从网络请求中获取的数据，浏览器都会显示我们是从 Service Worker 中获取的内容。<br>2.Memory Cache<br>Memory Cache 也就是内存中的缓存，主要包含的是当前中页面中已经抓取到的资源,例如页面上已经下载的样式、脚本、图片等。读取内存中的数据肯定比磁盘快,内存缓存虽然读取高效，可是缓存持续性很短，会随着进程的释放而释放。 一旦我们关闭 Tab 页面，内存中的缓存也就被释放了。</p> <blockquote><p>那么既然内存缓存这么高效，我们是不是能让数据都存放在内存中呢？
这是不可能的。计算机中的内存一定比硬盘容量小得多，操作系统需要精打细算内存的使用，所以能让我们使用的内存必然不多。
当我们访问过页面以后，再次刷新页面，可以发现很多数据都来自于内存缓存
内存缓存中有一块重要的缓存资源是preloader相关指令（例如）下载的资源。总所周知preloader的相关指令已经是页面优化的常见手段之一，它可以一边解析js/css文件，一边网络请求下一个资源。
需要注意的事情是，内存缓存在缓存资源时并不关心返回资源的HTTP缓存头Cache-Control是什么值，同时资源的匹配也并非仅仅是对URL做匹配，还可能会对Content-Type，CORS等其他特征做校验</p></blockquote> <p>3.Disk Cache<br>Disk Cache 也就是存储在硬盘中的缓存，读取速度慢点，但是什么都能存储到磁盘中，比之 Memory Cache 胜在容量和存储时效性上。<br>在所有浏览器缓存中，Disk Cache 覆盖面基本是最大的。它会根据 HTTP Herder 中的字段判断哪些资源需要缓存，哪些资源可以不请求直接使用，哪些资源已经过期需要重新请求。并且即使在跨站点的情况下，相同地址的资源一旦被硬盘缓存下来，就不会再次去请求数据。绝大部分的缓存都来自 Disk Cache，关于 HTTP 的协议头中的缓存字段，我们会在下文进行详细介绍。<br>浏览器会把哪些文件丢进内存中？哪些丢进硬盘中？<br>关于这点，网上说法不一，不过以下观点比较靠得住：</p> <blockquote><ul><li>对于大文件来说，大概率是不存储在内存中的，反之优先</li> <li>当前系统内存使用率高的话，文件优先存储进硬盘</li></ul></blockquote> <p>4.Push Cache<br>Push Cache（推送缓存）是 HTTP/2 中的内容，当以上三种缓存都没有命中时，它才会被使用。它只在会话（Session）中存在，一旦会话结束就被释放，并且缓存时间也很短暂，在Chrome浏览器中只有5分钟左右，同时它也并非严格执行HTTP头中的缓存指令。</p> <blockquote><ul><li>所有的资源都能被推送，并且能够被缓存,但是 Edge 和 Safari 浏览器支持相对比较差</li> <li>可以推送 no-cache 和 no-store 的资源</li> <li>一旦连接被关闭，Push Cache 就被释放</li> <li>多个页面可以使用同一个HTTP/2的连接，也就可以使用同一个Push Cache。这主要还是依赖浏览器的实现而定，出于对性能的考虑，有的浏览器会对相同域名但不同的tab标签使用同一个HTTP连接。</li> <li>Push Cache 中的缓存只能被使用一次</li> <li>浏览器可以拒绝接受已经存在的资源推送</li> <li>你可以给其他域名推送资源</li></ul></blockquote> <p>如果以上四种缓存都没有命中的话，那么只能发起请求来获取资源了。<br>那么为了性能上的考虑，大部分的接口都应该选择好缓存策略，通常浏览器缓存策略分为两种：强缓存和协商缓存，并且缓存策略都是通过设置 HTTP Header 来实现的</p> <p><a name="jn2tP"></a></p> <h3 id="web-worker"><a href="#web-worker" aria-hidden="true" class="header-anchor">#</a> web worker</h3> <p>现代浏览器为JavaScript创造的 多线程环境。可以新建并将部分任务分配到worker线程并行运行，两个线程可 独立运行，互不干扰，可通过自带的 消息机制 相互通信<br><strong>用法：</strong></p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> worker <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Worker</span><span class="token punctuation">(</span><span class="token string">'work.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 向主进程推送消息</span>
worker<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span><span class="token string">'Hello World'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 监听主进程来的消息</span>
worker<span class="token punctuation">.</span><span class="token function-variable function">onmessage</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Received message '</span> <span class="token operator">+</span> event<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>限制：</strong><br>同源限制<br>无法使用 document / window / alert / confirm<br>无法加载本地资源</p> <p><a name="KNXe9"></a></p> <h3 id="同源策略"><a href="#同源策略" aria-hidden="true" class="header-anchor">#</a> 同源策略</h3> <p>同源策略指的是：协议，域名，端口相同，同源策略是一种安全协议<br>举例说明：比如一个黑客程序，他利用Iframe把真正的银行登录页面嵌到他的页面上，当你使用真实的用户名，密码登录时，他的页面就可以通过Javascript读取到你的表单中input中的内容，这样用户名，密码就轻松到手了。<br><strong>同源策略</strong>（Same origin policy）是一种约定，它是浏览器最核心也最基本的安全功能，如果缺少了同源策略，则浏览器的正常功能可能都会受到影响。可以说 Web 是构建在同源策略基础之上的，浏览器只是针对同源策略的一种实现。<br>它的核心就在于它认为自任何站点装载的信赖内容是不安全的。当被浏览器半信半疑的脚本运行在沙箱时，它们应该只被允许访问来自同一站点的资源，而不是那些来自其它站点可能怀有恶意的资源。<br>所谓同源是指：域名、协议、端口相同。<br><strong>同源策略又分为以下两种：</strong></p> <ul><li>DOM 同源策略：禁止对不同源页面 DOM 进行操作。这里主要场景是 iframe 跨域的情况，不同域名的 iframe 是限制互相访问的。</li> <li>XMLHttpRequest 同源策略：禁止使用 XHR 对象向不同源的服务器地址发起 HTTP 请求。</li></ul> <p>没有同源策略会怎样：</p> <ul><li>如果没有 DOM 同源策略，也就是说不同域的 iframe 之间可以相互访问，那么黑客可以这样进行攻击：</li> <li>如果 XMLHttpRequest 同源策略，那么黑客可以进行 CSRF（跨站请求伪造） 攻击：</li></ul> <p><strong>扩展：跨域第方式有哪些</strong></p> <ul><li>CORS（跨域资源共享）</li> <li>JSONP 跨域</li> <li>图像 Ping 跨域</li> <li>服务器代理</li> <li>document.domain 跨域</li> <li>window.name 跨域</li> <li>location.hash 跨域</li> <li>postMessage 跨域</li></ul> <br> <a name="EDnPf"></a>
### **浏览器内跨标签的通信**
不同标签页间的通讯，本质原理就是去运用一些可以 共享的中间介质，因此比较常用的有以下方法:<br>通过父页面window.open()和子页面postMessage
<ul><li>异步下，通过 window.open('about: blank') 和 tab.location.href = '*'</li></ul> <p>设置同域下共享的localStorage与监听window.onstorage</p> <ul><li>重复写入相同的值无法触发</li> <li>会受到浏览器隐身模式等的限制</li></ul> <p>设置共享cookie与不断轮询脏检查(setInterval)<br>借助服务端或者中间层实现</p> <ul><li>WebSocket、SharedWorker；</li> <li>也可以调用 localstorge、cookies 等本地存储方式；</li> <li>localstorge 在另一个浏览上下文里被添加、修改或删除时，它都会触发一个事件，我们通过监听事件，控制它的值来进行页面信息通信；
注意 quirks：Safari 在无痕模式下设置 localstorge 值时会抛出 QuotaExceededError 的异常；</li></ul> <p><a name="9avaF"></a></p> <h3 id="浏览器和-node-事件循环的区别"><a href="#浏览器和-node-事件循环的区别" aria-hidden="true" class="header-anchor">#</a> 浏览器和 Node 事件循环的区别</h3> <p><br>主要的区别在于浏览器的event loop 和nodejs的event loop 在处理异步事件的顺序是不同的,nodejs中有micro event;其中Promise属于micro event 该异步事件的处理顺序就和浏览器不同.nodejs V11.0以上 这两者之间的顺序就相同了.<br>浏览器下事件循环(Event Loop):<br>微任务 microtask(jobs): promise / ajax / Object.observe(该方法已废弃)<br>宏任务 macrotask(task): setTimout / script / IO / UI Rendering<br>Node 的 Event Loop</p> <ul><li>timer 阶段: 执行到期的setTimeout / setInterval队列回调</li> <li>I/O 阶段: 执行上轮循环残流的callback</li> <li>idle, prepare</li> <li>poll: 等待回调
<ul><li>执行回调</li> <li>执行定时器
<ul><li>到期的setTimeout / setInterval， 则返回 timer 阶段</li> <li>如有setImmediate，则前往 check 阶段</li></ul></li></ul></li> <li>check
<ul><li>执行setImmediate</li></ul></li> <li>close callbacks</li></ul> <p><a name="VkGS1"></a></p> <h3 id="重绘和回流（repaint-reflow）"><a href="#重绘和回流（repaint-reflow）" aria-hidden="true" class="header-anchor">#</a> 重绘和回流（Repaint &amp; Reflow）</h3> <p>当元素的样式发生变化时，浏览器需要触发更新，重新绘制元素。这个过程中，有两种类型的操作，即重绘与回流。<br>重绘(repaint): 当元素样式的改变不影响布局时，浏览器将使用重绘对元素进行更新，此时由于只需要UI层面的重新像素绘制，因此 损耗较少<br>回流(reflow): 当元素的尺寸、结构或触发某些属性时，浏览器会重新渲染页面，称为回流。此时，浏览器需要重新经过计算，计算后还需要重新页面布局，因此是较重的操作。会触发回流的操作:</p> <ul><li>页面初次渲染</li> <li>浏览器窗口大小改变</li> <li>元素尺寸、位置、内容发生改变</li> <li>元素字体大小变化</li> <li>添加或者删除可见的 dom 元素</li> <li>激活 CSS 伪类（例如：:hover）</li> <li>查询某些属性或调用某些方法
<ul><li>clientWidth、clientHeight、clientTop、clientLeft</li></ul></li> <li>offsetWidth、offsetHeight、offsetTop、offsetLeft</li> <li>scrollWidth、scrollHeight、scrollTop、scrollLeft</li> <li>getComputedStyle()</li> <li>getBoundingClientRect()</li> <li>scrollTo()</li></ul> <p>回流必定触发重绘，重绘不一定触发回流。重绘的开销较小，回流的代价较高。<br><strong>实践:</strong><br>css</p> <ul><li>避免使用table布局</li> <li>将动画效果应用到position属性为absolute或fixed的元素上</li></ul> <p>javascript</p> <ul><li>避免频繁操作样式，可汇总后统一 一次修改</li> <li>尽量使用class进行样式修改</li> <li>减少dom的增删次数，可使用 字符串 或者 documentFragment 一次性插入</li> <li>极限优化时，修改样式可将其display: none后修改</li> <li>避免多次触发上面提到的那些会触发回流的方法，可以的话尽量用 变量存住</li></ul> <p><strong>style标签写在body后与body前有什么区别</strong><br>写在head标签中利于浏览器逐步渲染（resources downloading-&gt;CSSOM+DOM-&gt;RenderTree(composite)-&gt;Layout-&gt;paint）<br>写在body标签后由于浏览器以逐行方式对html文档进行解析，当解析到写在尾部的样式表（外联或写在style标签）会导致浏览器停止之前的渲染，等待加载且解析样式表完成之后重新渲染，在windows的IE下可能会出现FOUC现象（即样式失效导致的页面闪烁问题）</p> <p><a name="vpSaH"></a></p> <h3 id="web标准、可用性、可访问性"><a href="#web标准、可用性、可访问性" aria-hidden="true" class="header-anchor">#</a> web标准、可用性、可访问性</h3> <p><br>可用性（Usability）：产品是否容易上手，用户能否完成任务，效率如何，以及这过程中用户的主观感受可好，是从用户的角度来看产品的质量。可用性好意味着产品质量高，是企业的核心竞争力<br>可访问性（Accessibility）：Web内容对于残障用户的可阅读和可理解性<br>可维护性（Maintainability）：一般包含两个层次，一是当系统出现问题时，快速定位并解决问题的成本，成本低则可维护性好。二是代码是否容易被人理解，是否容易修改和增强功能。</p> <p><a name="hLDFK"></a></p> <h3 id="cookies，sessionstorage-和-localstorage"><a href="#cookies，sessionstorage-和-localstorage" aria-hidden="true" class="header-anchor">#</a> <a href="https://www.yuque.com/rashomon/lwtok5/html#hLDFK" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>**cookies，sessionStorage 和 localStorage **</h3> <p><strong>介绍</strong></p> <ul><li>cookie 是网站为了标示用户身份而储存在用户本地终端（Client Side）上的数据（通常经过加密）。</li> <li>cookie 数据始终在同源的 http 请求中携带（即使不需要），也会在浏览器和服务器间来回传递。</li> <li>sessionStorage 和 localStorage 不会自动把数据发给服务器，仅在本地保存。</li></ul> <p><strong>存储大小</strong></p> <ul><li>cookie 数据大小不能超过 4k。</li> <li>sessionStorage 和 localStorage 虽然也有存储大小的限制，但比 cookie 大得多，可以达到 5M 或更大。</li></ul> <p><strong>有期时间</strong></p> <ul><li>localStorage 存储持久数据，浏览器关闭后数据不丢失除非主动删除数据；</li> <li>sessionStorage 数据在当前浏览器窗口关闭后自动删除。</li> <li>cookie 设置的 cookie 过期时间之前一直有效，即使窗口或浏览器关闭。</li></ul> <p><a name="ErWBV"></a></p> <h3 id="v8垃圾回收机制"><a href="#v8垃圾回收机制" aria-hidden="true" class="header-anchor">#</a> V8垃圾回收机制</h3> <p><br>垃圾回收: 将内存中不再使用的数据进行清理，释放出内存空间。V8 将内存分成 新生代空间 和 老生代空间<br>新生代空间: 用于存活较短的对象</p> <ul><li>又分成两个空间: from 空间 与 to 空间</li> <li>Scavenge GC算法: 当 from 空间被占满时，启动 GC 算法
<ul><li>存活的对象从 from space 转移到 to space</li> <li>清空 from space</li> <li>from space 与 to space 互换</li> <li>完成一次新生代GC</li></ul></li></ul> <p>老生代空间: 用于存活时间较长的对象</p> <ul><li>从 新生代空间 转移到 老生代空间 的条件
<ul><li>经历过一次以上 Scavenge GC 的对象</li> <li>当 to space 体积超过25%</li></ul></li> <li>标记清除算法: 标记存活的对象，未被标记的则被释放
<ul><li>增量标记: 小模块标记，在代码执行间隙执，GC 会影响性能</li> <li>并发标记(最新技术): 不阻塞 js 执行</li></ul></li> <li>压缩算法: 将内存中清除后导致的碎片化对象往内存堆的一端移动，解决 内存的碎片化<br></li></ul> <p><a name="4TrRt"></a></p> <h3 id="渐进增强和优雅降级"><a href="#渐进增强和优雅降级" aria-hidden="true" class="header-anchor">#</a> 渐进增强和优雅降级</h3> <p><br>渐进增强 ：针对低版本浏览器进行构建页面，保证最基本的功能，然后再针对高级浏览器进行效果、交互等改进和追加功能达到更好的用户体验。<br>优雅降级 ：一开始就构建完整的功能，然后再针对低版本浏览器进行兼容</p> <p><a name="GMjMZ"></a></p> <h3 id="判断浏览器类型"><a href="#判断浏览器类型" aria-hidden="true" class="header-anchor">#</a> 判断浏览器类型</h3> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>  <span class="token keyword">var</span> userAgent <span class="token operator">=</span> navigator<span class="token punctuation">.</span>userAgent<span class="token punctuation">;</span> <span class="token comment">//取得浏览器的userAgent字符串</span>
    <span class="token keyword">var</span> isOpera <span class="token operator">=</span> userAgent<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&quot;Opera&quot;</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token comment">//判断是否Opera浏览器</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>isOpera<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;Opera&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span> 
    <span class="token comment">//判断是否Firefox浏览器</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>userAgent<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&quot;Firefox&quot;</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;FF&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> 
    <span class="token comment">//判断是否chorme浏览器</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>userAgent<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&quot;Chrome&quot;</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token string">&quot;Chrome&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//判断是否Safari浏览器</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>userAgent<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&quot;Safari&quot;</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;Safari&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> 
    <span class="token comment">//判断是否IE浏览器</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>userAgent<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&quot;compatible&quot;</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">&amp;&amp;</span> userAgent<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&quot;MSIE&quot;</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>isOpera<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;IE&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//判断是否Edge浏览器</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>userAgent<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&quot;Trident&quot;</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;Edge&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p><a name="9lw1m"></a></p> <h3 id="获取url中参数值"><a href="#获取url中参数值" aria-hidden="true" class="header-anchor">#</a> 获取URL中参数值</h3> <p><strong>正则法</strong></p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">getQueryString</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">'(^|&amp;)'</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">'=([^&amp;]*)(&amp;|$)'</span><span class="token punctuation">,</span> <span class="token string">'i'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> r <span class="token operator">=</span> window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>search<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>r <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">unescape</span><span class="token punctuation">(</span>r<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 这样调用：</span>
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token function">GetQueryString</span><span class="token punctuation">(</span><span class="token string">&quot;参数名1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token function">GetQueryString</span><span class="token punctuation">(</span><span class="token string">&quot;参数名2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token function">GetQueryString</span><span class="token punctuation">(</span><span class="token string">&quot;参数名3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p><strong>split拆分法</strong></p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">GetRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> url <span class="token operator">=</span> location<span class="token punctuation">.</span>search<span class="token punctuation">;</span> <span class="token comment">//获取url中&quot;?&quot;符后的字串</span>
    <span class="token keyword">var</span> theRequest <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>url<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&quot;?&quot;</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> str <span class="token operator">=</span> url<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        strs <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> strs<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            theRequest<span class="token punctuation">[</span>strs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">unescape</span><span class="token punctuation">(</span>strs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> theRequest<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> Request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Request <span class="token operator">=</span> <span class="token function">GetRequest</span><span class="token punctuation">(</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// var 参数1,参数2,参数3,参数N;</span>
<span class="token comment">// 参数1 = Request['参数1'];</span>
<span class="token comment">// 参数2 = Request['参数2'];</span>
<span class="token comment">// 参数3 = Request['参数3'];</span>
<span class="token comment">// 参数N = Request['参数N'];</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p><strong>又见正则</strong><br>通过JS获取url参数，这个经常用到。比如说一个url：http://wwww.jb51.net/?q=js,我们想得到参数q的值，那可以通过以下函数调用即可</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">GetQueryString</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    <span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">&quot;(^|&amp;)&quot;</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">&quot;=([^&amp;]*)(&amp;|$)&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;i&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token keyword">var</span> r <span class="token operator">=</span> window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>search<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//获取url中&quot;?&quot;符后的字符串并正则匹配</span>
    <span class="token keyword">var</span> context <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>  
    <span class="token keyword">if</span> <span class="token punctuation">(</span>r <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>  
         context <span class="token operator">=</span> r<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  
    reg <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>  
    r <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>  
    <span class="token keyword">return</span> context <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> context <span class="token operator">==</span> <span class="token string">&quot;&quot;</span> <span class="token operator">||</span> context <span class="token operator">==</span> <span class="token string">&quot;undefined&quot;</span> <span class="token operator">?</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">:</span> context<span class="token punctuation">;</span>  
<span class="token punctuation">}</span>
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token function">GetQueryString</span><span class="token punctuation">(</span><span class="token string">&quot;q&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><strong>单个参数的获取方法</strong></p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">GetRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">var</span> url <span class="token operator">=</span> location<span class="token punctuation">.</span>search<span class="token punctuation">;</span> <span class="token comment">//获取url中&quot;?&quot;符后的字串</span>
   <span class="token keyword">if</span> <span class="token punctuation">(</span>url<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&quot;?&quot;</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">//判断是否有参数</span>
      <span class="token keyword">var</span> str <span class="token operator">=</span> url<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//从第一个字符开始 因为第0个是?号 获取所有除问号的所有符串</span>
      strs <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//用等号进行分隔 （因为知道只有一个参数 所以直接用等号进分隔 如果有多个参数 要用&amp;号分隔 再用等号进行分隔）</span>
      <span class="token function">alert</span><span class="token punctuation">(</span>strs<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">//直接弹出第一个参数 （如果有多个参数 还要进行循环的）</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><a name="tJ3oM"></a></p> <h3 id="三种减少页面加载时间的方法"><a href="#三种减少页面加载时间的方法" aria-hidden="true" class="header-anchor">#</a> 三种减少页面加载时间的方法</h3> <ol><li>尽量减少页面中重复的HTTP请求数量<br>
比较直接的理解就是要减少调用其他页面、文件的数量。我们在使用css格式控制的时候，经常会采用background载入很多图形文件，而每个background的图像都会产生1次HTTP请求，一般我们为了让页面生动活泼会大量使用background来加载背景图，要改善这个状况，可以采用css的1个有用的background-position属 性来加载背景图，我们将需要频繁加载的多个图片合成为1个单独的图片，需要加载时可以采用：background:url(....) no-repeat x-offset y-offset;的形式加载即可将这部分图片加载的HTTP请求缩减为1个。</li> <li>服务器开启gzip压缩<br>
即将需要传输的内容压缩后传输到客户端再解压，这样在网络上传输的 数据量就会大幅减小。通常在服务器上的Apache、Nginx可以直接开启这个设置，也可以从代码角度直接设置传输文件头，增加gzip的设置，也可以从 负载均衡设备直接设置。不过需要留意的是，这个设置会略微增加服务器的负担。建议服务器性能不是很好的网站，要慎重考虑。</li> <li>css样式的定义放置在文件头部</li> <li>Javascript脚本放在文件末尾<br>
我们都知道网页文件的载人是从上到下的加载的，而有很多Javascript脚本执行效率比较低下，或者在网页前面都不需要执行的，如果将这些脚本放置到页面比较靠前的位置，很可能会导致网站内容载入速度下降甚至无**常加载，所以一般将这些脚本放置在网页文件末尾，一定要放 置在前面的脚本要改用所谓的“后载入”方式加载，在主体网页加载完成后再加载，防止其影响到主体网页的加载速度。</li> <li>压缩Javascript、CSS代码<br>
一般js、css文件中存在大量的空格、换行、注释，这些利于阅读，如果能够压缩掉，将会很有利于网络传输。这方面的工具也有很多，可以在百度里搜索一下关键字“css代码压缩”，或者“js代码压缩”将会发现有很多网站都提供这样的功能，当然了你也可以自己写程序来做这个工作，如果你会的话。就拿我们这个网站来说吧。刚开始上传这个网站的时候，我的很多Css代码都没有压缩，后面发现了这个问题，我就上网找了相关的网站的压缩代码的功能，最后就把很多CSS文件都压缩了。这个压缩比率还是比较高的，一般都有50%左右。由此可见，这个代码压缩对于网页的加载还是很有用的。</li> <li>Ajax采用缓存调用<br>
Ajax调用都采用缓存调用方式，一般采用附加特征参数方式实现，注意其中的&lt;script src=”xxx.js?{VERHASH}”，{VERHASH}就是特征参数，这个参数不变化就使用缓存文件，如果发生变化则重新下载新文件或更新信息。</li> <li>尽可能减少DCOM元素<br>
这个很好理解，就是尽可能减少网页中各种&lt;&gt;元素数量，例如<br>
的冗余很严重，而我们完全可以用取代之。</li> <li>使用多域名负载网页内的多个文件、图片</li> <li>使用CDN</li> <li>在服务器端配置control-cache  last-modify-date</li> <li>在服务器配置Entity-Tag     if-none-match</li></ol> <p><a name="G3pJH"></a></p> <h3 id="ci-cd流程"><a href="#ci-cd流程" aria-hidden="true" class="header-anchor">#</a> CI/CD流程</h3> <p><br>ci(持续构建)<br>代码提交后触发自动化的单元测试，代码预编译，构建镜像，上传镜像等．<br>cd(持续发布)<br>持续发布则指将构建好的程序发布到各种环境，如预发布环境，正式环境</p> <p><a name="eHaa6"></a></p> <h3 id="首屏时间、白屏时间"><a href="#首屏时间、白屏时间" aria-hidden="true" class="header-anchor">#</a> 首屏时间、白屏时间</h3> <p>不同的浏览器对于CSS和HTML的处理方式不同，有的是等待CSS加载完成之后，对HTML元素进行渲染和展示（白屏问题）。有的是先对HTML元素进行展示，然后等待CSS加载完成之后重新对样式进行修改（FOUC无样式内容闪烁）<br>Performance 接口可以获取到当前页面中与性能相关的信息。<br>该类型的对象可以通过调用只读属性 Window.performance 来获得。<br>白屏时间：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>performance<span class="token punctuation">.</span>timing<span class="token punctuation">.</span>responseStart <span class="token operator">-</span> performance<span class="token punctuation">.</span>timing<span class="token punctuation">.</span>navigationStart
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>首屏时间</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
<span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> performance<span class="token punctuation">.</span>timing<span class="token punctuation">.</span>responseStart
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><a name="5mdUQ"></a></p> <h3 id="域名收敛"><a href="#域名收敛" aria-hidden="true" class="header-anchor">#</a> 域名收敛</h3> <p><br>PC 时代为了突破浏览器的域名并发限制。有了域名发散。<br>浏览器有并发限制，是为了防止DDOS攻击。<br>域名收敛：就是将静态资源放在一个域名下。减少DNS解析的开销。<br>域名发散：是将静态资源放在多个子域名下，就可以多线程下载，提高并行度，使客户端加载静态资源更加迅速。<br>域名发散是pc端为了利用浏览器的多线程并行下载能力。而域名收敛多用与移动端，提高性能，因为dns解析是是从后向前迭代解析，如果域名过多性能会下降，增加DNS的解析开销。</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最后更新时间: </span> <span class="time">10/8/2019, 7:41:17 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/interviewQuestions/Html.html" class="prev">
          HTML
        </a></span> <span class="next"><a href="/interviewQuestions/计算机网络.html">
          计算机网络
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.20d1c662.js" defer></script><script src="/assets/js/2.b4f839d5.js" defer></script><script src="/assets/js/184.06d242d5.js" defer></script>
  </body>
</html>
