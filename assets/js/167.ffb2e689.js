(window.webpackJsonp=window.webpackJsonp||[]).push([[167],{258:function(s,n,a){"use strict";a.r(n);var e=a(0),t=Object(e.a)({},(function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"发布自己的第一个npm包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#发布自己的第一个npm包","aria-hidden":"true"}},[s._v("#")]),s._v(" 发布自己的第一个npm包")]),s._v(" "),a("p",[s._v("在如今的项目开发中，npm基本已经成为前端必不可少的一部分，作为一个合格的前端，了解并学习npm是相当必要的，接下来发布\n我自己的第一个npm包。\n")]),s._v(" "),a("h2",{attrs:{id:"第一步-注册"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第一步-注册","aria-hidden":"true"}},[s._v("#")]),s._v(" 第一步:注册")]),s._v(" "),a("p",[s._v("1.前往github和npm网站分别注册账号，在github上新建一个项目，并clone下来\n"),a("img",{attrs:{src:"/img/npm/npm1.png",alt:""}})]),s._v(" "),a("p",[s._v("2.clone下来后，进入项目执行npm init，一路center按到底。\n3.接下来执行npm addUser 输入你在npm上面注册的用户名和密码与邮箱。")]),s._v(" "),a("h2",{attrs:{id:"第二步-封装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第二步-封装","aria-hidden":"true"}},[s._v("#")]),s._v(" 第二步:封装")]),s._v(" "),a("p",[s._v("1.在packeage.json里面加入")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('  "devDependencies": {\n    "babel-cli": "^6.0.0",\n    "babel-core": "^6.14.0",\n    "babel-loader": "^6.2.5",\n    "babel-plugin-istanbul": "^2.0.1",\n    "babel-preset-es2015": "^6.14.0",\n    "babel-preset-react": "^6.24.1",\n    "react": "^15.6.1",\n    "react-dom": "^15.6.1"\n  },\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("p",[s._v("基于react，babel用于将es6转成es5,接下来执行npm install 安装依赖包。完成之后可以来编写代码。")]),s._v(" "),a("p",[s._v("2.项目结构\n"),a("img",{attrs:{src:"/img/npm/1548148986774.jpg",alt:""}})]),s._v(" "),a("p",[s._v(".babelrc负责编译将es6转为es5")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("{\n    \"presets\": ['react', 'es2015',\"stage-1\"],\n    \"plugins\": ['transform-react-jsx']\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("index.js作为入口文件")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("import HRate from './components/HRate';\nmodule.exports = {\n  HRate\n};\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[a("a",{attrs:{href:"https://github.com/LuoShengMen/HRate/blob/master/src/components/HRate.js",target:"_blank",rel:"noopener noreferrer"}},[s._v("HRate.js"),a("OutboundLink")],1),s._v("则为具体的组件")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("import React from 'react';\n\nexport default class HRate extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      // 根据页面当中的星星的数量来设置默认值\n      value: 0,\n      arr: [1, 2, 3, 4, 5]\n    };\n  }\n\n  componentWillReceiveProps(nextProps){\n    if(this.props.value !== nextProps.value){\n      this.setState({\n        value: nextProps.value\n      })\n    }\n  }\n\n  // 返回数值\n  changeRate = (data) => {\n    const {disabled} = this.props;\n    const {value} = this.state;\n    if (!disabled && this.props.onChange) {\n      this.props.onChange(value !== data ? data : 0);\n    }\n    this.setState({\n      value: value !== data ? data : 0\n    })\n  };\n\n  render() {\n    const {arr, value} = this.state;\n    const {size = 20, item = '☆'} = this.props;\n    return (\n        <span>\n          {\n            arr.map((ele, index) => (\n              <span key={index}>\n                {value >= ele\n                    ? <span  style={{color:\"#FFAC2D\",fontSize:`${size}px`}} onClick={() => this.changeRate(ele)}>{item}</span>\n                    : <span  style={{color:\"#999999\",fontSize:`${size}px`}} onClick={() => this.changeRate(ele)}>{item}</span>\n                }\n              </span>\n            ))\n          }\n        </span>\n    );\n  }\n}\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br")])]),a("p",[s._v("接下来在package.json中加入")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('  "main": "lib/index.js",\n  script: {\n    "build": "babel src --out-dir lib"\n  }\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("运行npm run build将src目录下的文件输出到lib目录下")]),s._v(" "),a("h2",{attrs:{id:"第三步-发布及运用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第三步-发布及运用","aria-hidden":"true"}},[s._v("#")]),s._v(" 第三步:发布及运用")]),s._v(" "),a("p",[s._v("1.在项目中执行npm addUser, npm publish，发布成功后就可以在npm官网上看到自己发布的包\n"),a("img",{attrs:{src:"/img/npm/npm3.png",alt:""}})]),s._v(" "),a("p",[a("img",{attrs:{src:"/img/npm/npm4.png",alt:""}})]),s._v(" "),a("p",[a("img",{attrs:{src:"/img/npm/1548149326311.jpg",alt:""}})]),s._v(" "),a("p",[s._v("2.如果要运用发布的包，则可以执行")]),s._v(" "),a("blockquote",[a("p",[s._v("npm install hrate")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("import { HRate } from 'hrate';\n...\nrender(){\n    return <HRate />\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("最终效果\n"),a("img",{attrs:{src:"/img/npm/npm5.png",alt:""}})]),s._v(" "),a("p",[s._v("npm地址 "),a("a",{attrs:{href:"https://www.npmjs.com/package/hrate",target:"_blank",rel:"noopener noreferrer"}},[s._v("hratw"),a("OutboundLink")],1),s._v("\ngitHub地址 "),a("a",{attrs:{href:"https://github.com/LuoShengMen/HRate",target:"_blank",rel:"noopener noreferrer"}},[s._v("hrate"),a("OutboundLink")],1)])])}),[],!1,null,null,null);n.default=t.exports}}]);